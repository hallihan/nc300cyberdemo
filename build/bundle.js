var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(){return d("")}function m(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function b(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let v;function y(t){v=t}function $(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const c=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach((n=>{n.call(t,c)}))}}}const w=[],x=[],k=[],O=[],S=Promise.resolve();let _=!1;function N(t){k.push(t)}let C=!1;const W=new Set;function j(){if(!C){C=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];y(n),E(n.$$)}for(y(null),w.length=0;x.length;)x.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];W.has(n)||(W.add(n),n())}k.length=0}while(w.length);for(;O.length;)O.pop()();_=!1,C=!1,W.clear()}}function E(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const M=new Set;let L;function P(){L={r:0,c:[],p:L}}function X(){L.r||o(L.c),L=L.p}function J(t,n){t&&t.i&&(M.delete(t),t.i(n))}function A(t,n,e,o){if(t&&t.o){if(M.has(t))return;M.add(t),L.c.push((()=>{M.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function z(t){t&&t.c()}function Q(t,e,s,i){const{fragment:r,on_mount:l,on_destroy:u,after_update:a}=t.$$;r&&r.m(e,s),i||N((()=>{const e=l.map(n).filter(c);u?u.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(N)}function T(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(w.push(t),_||(_=!0,S.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function I(n,c,s,i,r,u,a=[-1]){const d=v;y(n);const f=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:c.context||[]),callbacks:e(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=s?s(n,c.props||{},((t,e,...o)=>{const c=o.length?o[0]:e;return f.ctx&&r(f.ctx[t],f.ctx[t]=c)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](c),p&&B(n,t)),e})):[],f.update(),p=!0,o(f.before_update),f.fragment=!!i&&i(f.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();c.intro&&J(n.$$.fragment),Q(n,c.target,c.anchor,c.customElement),j()}y(d)}class U{$destroy(){T(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function D(t){let n,e;return{c(){n=a("p"),e=d(t[1]),b(n,"opacity",Math.max(t[1]>0?t[1]/t[0]*5:0,.1)),b(n,"font-size",Math.min(Math.max(1,t[1]/t[0]*3),3.5)+"em")},m(t,o){r(t,n,o),i(n,e)},p(t,o){2&o&&g(e,t[1]),3&o&&b(n,"opacity",Math.max(t[1]>0?t[1]/t[0]*5:0,.1)),3&o&&b(n,"font-size",Math.min(Math.max(1,t[1]/t[0]*3),3.5)+"em")},d(t){t&&l(n)}}}function H(t){let n;function e(t,n){return"x"==t[2]?R:G}let o=e(t),c=o(t);return{c(){c.c(),n=p()},m(t,e){c.m(t,e),r(t,n,e)},p(t,s){o!==(o=e(t))&&(c.d(1),c=o(t),c&&(c.c(),c.m(n.parentNode,n)))},d(t){c.d(t),t&&l(n)}}}function G(t){let n;return{c(){n=a("span"),n.textContent="circle",h(n,"class","material-icons-outlined icon o svelte-s8capo")},m(t,e){r(t,n,e)},d(t){t&&l(n)}}}function R(t){let n;return{c(){n=a("span"),n.textContent="close",h(n,"class","material-icons-round icon x svelte-s8capo")},m(t,e){r(t,n,e)},d(t){t&&l(n)}}}function V(n){let e,o,c,s;function i(t,n){return""!=t[2]?H:D}let u=i(n),d=u(n);return{c(){e=a("button"),d.c(),h(e,"class","tile svelte-s8capo"),e.disabled=o=!n[3],b(e,"position","relative"),b(e,"background","rgba(0, 255, 149, "+(n[1]>0?n[1]/n[0]*.8:0).toPrecision(2)+")")},m(t,o){r(t,e,o),d.m(e,null),c||(s=m(e,"click",n[4]),c=!0)},p(t,[n]){u===(u=i(t))&&d?d.p(t,n):(d.d(1),d=u(t),d&&(d.c(),d.m(e,null))),8&n&&o!==(o=!t[3])&&(e.disabled=o),3&n&&b(e,"background","rgba(0, 255, 149, "+(t[1]>0?t[1]/t[0]*.8:0).toPrecision(2)+")")},i:t,o:t,d(t){t&&l(e),d.d(),c=!1,s()}}}function Z(t,n,e){let o,{total:c}=n,{votes:s}=n,{state:i}=n;const r=$();return t.$$set=t=>{"total"in t&&e(0,c=t.total),"votes"in t&&e(1,s=t.votes),"state"in t&&e(2,i=t.state)},t.$$.update=()=>{4&t.$$.dirty&&e(3,o=""==i)},[c,s,i,o,()=>{e(3,o=!1),setTimeout((()=>{e(3,o=!0)}),1e3),r("vote")}]}class q extends U{constructor(t){super(),I(this,t,Z,V,s,{total:0,votes:1,state:2})}}function F(n){let e,o,c,s;return{c(){e=a("script"),e.src!==(o="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js")&&h(e,"src","https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"),h(e,"integrity","sha512-iZIBSs+gDyTH0ZhUem9eQ1t4DcEn2B9lHxfRMeGQhyNdSUz+rb+5A3ummX6DQTOIs1XK0gOteOg/LPtSo9VJ+w=="),h(e,"crossorigin","anonymous"),h(e,"referrerpolicy","no-referrer")},m(t,o){i(document.head,e),c||(s=m(e,"load",n[0]),c=!0)},p:t,i:t,o:t,d(t){l(e),c=!1,s()}}}function K(t,n,e){let{connected:o=!1}=n,{socketLoad:c}=n;$();return t.$$set=t=>{"connected"in t&&e(1,o=t.connected),"socketLoad"in t&&e(2,c=t.socketLoad)},[()=>{const t=io("https://nc300cyberdemo.azurewebsites.net",{transports:["websocket"]});e(1,o=!0),c(t)},o,c]}class Y extends U{constructor(t){super(),I(this,t,K,F,s,{connected:1,socketLoad:2})}}function tt(t,n,e){const o=t.slice();return o[21]=n[e],o[22]=n,o[23]=e,o}function nt(t,n,e){const o=t.slice();return o[24]=n[e],o[23]=e,o}function et(n){let e;return{c(){e=a("p"),e.textContent="Connecting...",h(e,"class","")},m(t,n){r(t,e,n)},p:t,i:t,o:t,d(t){t&&l(e)}}}function ot(t){let n,e,o,c,s,i,d,m,g=!t[6]&&ct(t),b=t[5]>0&&rt(t),v=!t[7]&&!t[10]&&!t[8]&&lt(),y=""!=t[8]&&ut(t),$=t[0],w=[];for(let n=0;n<$.length;n+=1)w[n]=bt(tt(t,$,n));const x=t=>A(w[t],1,1,(()=>{w[t]=null}));let k=t[6]&&t[10]&&vt(t);return{c(){g&&g.c(),n=f(),b&&b.c(),e=f(),v&&v.c(),o=f(),y&&y.c(),c=f(),s=a("div");for(let t=0;t<w.length;t+=1)w[t].c();i=f(),k&&k.c(),d=p(),h(s,"class","board svelte-y13tub")},m(t,l){g&&g.m(t,l),r(t,n,l),b&&b.m(t,l),r(t,e,l),v&&v.m(t,l),r(t,o,l),y&&y.m(t,l),r(t,c,l),r(t,s,l);for(let t=0;t<w.length;t+=1)w[t].m(s,null);r(t,i,l),k&&k.m(t,l),r(t,d,l),m=!0},p(t,i){if(t[6]?g&&(g.d(1),g=null):g?g.p(t,i):(g=ct(t),g.c(),g.m(n.parentNode,n)),t[5]>0?b?b.p(t,i):(b=rt(t),b.c(),b.m(e.parentNode,e)):b&&(b.d(1),b=null),t[7]||t[10]||t[8]?v&&(v.d(1),v=null):v||(v=lt(),v.c(),v.m(o.parentNode,o)),""!=t[8]?y?y.p(t,i):(y=ut(t),y.c(),y.m(c.parentNode,c)):y&&(y.d(1),y=null),1681&i){let n;for($=t[0],n=0;n<$.length;n+=1){const e=tt(t,$,n);w[n]?(w[n].p(e,i),J(w[n],1)):(w[n]=bt(e),w[n].c(),J(w[n],1),w[n].m(s,null))}for(P(),n=$.length;n<w.length;n+=1)x(n);X()}t[6]&&t[10]?k?k.p(t,i):(k=vt(t),k.c(),k.m(d.parentNode,d)):k&&(k.d(1),k=null)},i(t){if(!m){for(let t=0;t<$.length;t+=1)J(w[t]);m=!0}},o(t){w=w.filter(Boolean);for(let t=0;t<w.length;t+=1)A(w[t]);m=!1},d(t){g&&g.d(t),t&&l(n),b&&b.d(t),t&&l(e),v&&v.d(t),t&&l(o),y&&y.d(t),t&&l(c),t&&l(s),u(w,t),t&&l(i),k&&k.d(t),t&&l(d)}}}function ct(t){let n;let e=function(t,n){return t[10]?st:it}(t)(t);return{c(){e.c(),n=p()},m(t,o){e.m(t,o),r(t,n,o)},p(t,n){e.p(t,n)},d(t){e.d(t),t&&l(n)}}}function st(n){let e,o,c,s;return{c(){e=a("div"),o=a("button"),o.textContent="Start Game",h(o,"class","button-p svelte-y13tub"),h(e,"class","noactive svelte-y13tub")},m(t,l){r(t,e,l),i(e,o),c||(s=m(o,"click",n[11]),c=!0)},p:t,d(t){t&&l(e),c=!1,s()}}}function it(n){let e;return{c(){e=a("div"),e.textContent="Waiting for game start...",h(e,"class","noactive svelte-y13tub")},m(t,n){r(t,e,n)},p:t,d(t){t&&l(e)}}}function rt(t){let n;return{c(){n=d(t[5])},m(t,e){r(t,n,e)},p(t,e){32&e&&g(n,t[5])},d(t){t&&l(n)}}}function lt(t){let n;return{c(){n=a("div"),n.textContent="Waiting for opponent's turn...",h(n,"class","noactive svelte-y13tub")},m(t,e){r(t,n,e)},d(t){t&&l(n)}}}function ut(t){let n;let e=function(t,n){return t[10]?dt:at}(t)(t);return{c(){e.c(),n=p()},m(t,o){e.m(t,o),r(t,n,o)},p(t,n){e.p(t,n)},d(t){e.d(t),t&&l(n)}}}function at(t){let n,e,o="x"==t[8]?"X's win!":"o"==t[8]?"O's win!":"Stalemate!";return{c(){n=a("div"),e=d(o),h(n,"class","noactive svelte-y13tub")},m(t,o){r(t,n,o),i(n,e)},p(t,n){256&n&&o!==(o="x"==t[8]?"X's win!":"o"==t[8]?"O's win!":"Stalemate!")&&g(e,o)},d(t){t&&l(n)}}}function dt(t){let n,e,c,s,u,p,v,y,$,w="x"==t[8]?"X's win!":"o"==t[8]?"O's win!":"Stalemate!",x=t[2]&&ft(t);return{c(){n=a("div"),e=d(w),c=f(),s=a("button"),s.textContent="Show Info",u=f(),p=a("button"),p.textContent="Restart",v=f(),x&&x.c(),h(s,"class","button-p svelte-y13tub"),b(s,"font-size","0.7em"),b(s,"margin-top","15px"),h(p,"class","button-p svelte-y13tub"),b(p,"font-size","0.7em"),b(p,"margin-top","15px"),h(n,"class","noactive svelte-y13tub"),b(n,"flex-direction","column")},m(o,l){r(o,n,l),i(n,e),i(n,c),i(n,s),i(n,u),i(n,p),i(n,v),x&&x.m(n,null),y||($=[m(s,"click",t[14]),m(p,"click",t[15])],y=!0)},p(t,o){256&o&&w!==(w="x"==t[8]?"X's win!":"o"==t[8]?"O's win!":"Stalemate!")&&g(e,w),t[2]?x?x.p(t,o):(x=ft(t),x.c(),x.m(n,null)):x&&(x.d(1),x=null)},d(t){t&&l(n),x&&x.d(),y=!1,o($)}}}function ft(t){let n,e,o,c=Object.values(t[1]),s=[];for(let n=0;n<c.length;n+=1)s[n]=gt(nt(t,c,n));return{c(){n=a("table"),e=a("tr"),e.innerHTML="<th>IP</th> \n\t\t\t\t\t\t\t\t<th>OS</th> \n\t\t\t\t\t\t\t\t<th>Location</th> \n\t\t\t\t\t\t\t\t<th>Weather</th>",o=f();for(let t=0;t<s.length;t+=1)s[t].c();h(n,"class","svelte-y13tub")},m(t,c){r(t,n,c),i(n,e),i(n,o);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,e){if(2&e){let o;for(c=Object.values(t[1]),o=0;o<c.length;o+=1){const i=nt(t,c,o);s[o]?s[o].p(i,e):(s[o]=gt(i),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=c.length}},d(t){t&&l(n),u(s,t)}}}function pt(t){let n,e,o,c,s,u,p,m,b,v,y,$,w,x=t[24].ip+"",k=t[24].os+"",O=t[24].location+"",S=t[24].weather+"";return{c(){n=a("tr"),e=a("td"),o=d(x),c=f(),s=a("td"),u=d(k),p=f(),m=a("td"),b=d(O),v=f(),y=a("td"),$=d(S),w=f(),h(e,"class","svelte-y13tub"),h(s,"class","svelte-y13tub"),h(m,"class","svelte-y13tub"),h(y,"class","svelte-y13tub")},m(t,l){r(t,n,l),i(n,e),i(e,o),i(n,c),i(n,s),i(s,u),i(n,p),i(n,m),i(m,b),i(n,v),i(n,y),i(y,$),i(n,w)},p(t,n){2&n&&x!==(x=t[24].ip+"")&&g(o,x),2&n&&k!==(k=t[24].os+"")&&g(u,k),2&n&&O!==(O=t[24].location+"")&&g(b,O),2&n&&S!==(S=t[24].weather+"")&&g($,S)},d(t){t&&l(n)}}}function mt(n){let e;return{c(){e=a("tr"),e.textContent="...\n\t\t\t\t\t\t\t\t\t"},m(t,n){r(t,e,n)},p:t,d(t){t&&l(e)}}}function ht(n){let e;return{c(){e=a("div")},m(t,n){r(t,e,n)},p:t,d(t){t&&l(e)}}}function gt(t){let n;let e=function(t,n){return t[23]>8?ht:8==t[23]?mt:pt}(t)(t);return{c(){e.c(),n=p()},m(t,o){e.m(t,o),r(t,n,o)},p(t,n){e.p(t,n)},d(t){e.d(t),t&&l(n)}}}function bt(t){let n,e;return n=new q({props:{votes:t[21].votes,total:t[9],state:t[21].state}}),n.$on("vote",(function(){return t[16](t[23],t[21],t[22])})),{c(){z(n.$$.fragment)},m(t,o){Q(n,t,o),e=!0},p(e,o){t=e;const c={};1&o&&(c.votes=t[21].votes),512&o&&(c.total=t[9]),1&o&&(c.state=t[21].state),n.$set(c)},i(t){e||(J(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function vt(n){let e,c,s,u,d,p,g,b;return{c(){e=a("div"),c=a("button"),c.textContent="X Wins",s=f(),u=a("button"),u.textContent="O Wins",d=f(),p=a("button"),p.textContent="Stalemate",h(c,"class","button-w lb svelte-y13tub"),h(u,"class","button-w mb svelte-y13tub"),h(p,"class","button-w rb svelte-y13tub"),h(e,"class","bc svelte-y13tub")},m(t,o){r(t,e,o),i(e,c),i(e,s),i(e,u),i(e,d),i(e,p),g||(b=[m(c,"click",n[17]),m(u,"click",n[18]),m(p,"click",n[19])],g=!0)},p:t,d(t){t&&l(e),g=!1,o(b)}}}function yt(t){let n,e,o,c,s,u,d;function p(n){t[13](n)}let m={socketLoad:t[12]};void 0!==t[3]&&(m.connected=t[3]),e=new Y({props:m}),x.push((()=>function(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}(e,"connected",p)));const g=[ot,et],b=[];function v(t,n){return t[3]?0:1}return s=v(t),u=b[s]=g[s](t),{c(){n=a("main"),z(e.$$.fragment),c=f(),u.c(),h(n,"class","svelte-y13tub")},m(t,o){r(t,n,o),Q(e,n,null),i(n,c),b[s].m(n,null),d=!0},p(t,[c]){const i={};var r;!o&&8&c&&(o=!0,i.connected=t[3],r=()=>o=!1,O.push(r)),e.$set(i);let l=s;s=v(t),s===l?b[s].p(t,c):(P(),A(b[l],1,1,(()=>{b[l]=null})),X(),u=b[s],u?u.p(t,c):(u=b[s]=g[s](t),u.c()),J(u,1),u.m(n,null))},i(t){d||(J(e.$$.fragment,t),J(u),d=!0)},o(t){A(e.$$.fragment,t),A(u),d=!1},d(t){t&&l(n),T(e),b[s].d()}}}function $t(t){t=t.toLowerCase();for(var n="Unknown",e=["windows nt 10","windows nt 6.3","windows nt 6.2","windows nt 6.1","windows nt 6.0","windows nt 5.2","windows nt 5.1","windows xp","windows nt 5.0","windows me","win98","win95","win16","macintosh","mac os x","mac_powerpc","android","linux","ubuntu","iphone","ipod","ipad","blackberry","webos"],o=["Windows 10","Windows 8.1","Windows 8","Windows 7","Windows Vista","Windows Server 2003/XP x64","Windows XP","Windows XP","Windows 2000","Windows ME","Windows 98","Windows 95","Windows 3.11","Mac OS X","Mac OS X","Mac OS 9","Android","Linux","Ubuntu","iPhone","iPod","iPad","BlackBerry","Mobile"],c=0;c<e.length;c++)if(-1!==t.indexOf(e[c])){n=o[c];break}return n}function wt(t,n,e){let o;console.table(document);let c,s=[{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""},{votes:0,state:""}],i={},r=!1,l=!1,u=0,a="#admin"==window.location.hash,d=!1;var f=!0;let p="";return t.$$.update=()=>{1&t.$$.dirty&&e(9,o=s.map((t=>t.votes)).reduce(((t,n)=>t+n),0))},[s,i,r,l,c,u,d,f,p,o,a,()=>{a&&c.send(JSON.stringify({type:"start"}))},t=>{e(4,c=t),console.log("Socket loaded!"),jQuery.getJSON("https://api.ipify.org?format=json",(n=>{const e=n.ip;jQuery.getJSON(`https://ipapi.co/${e}/json`,(n=>{const o=n.city,c=n.country;jQuery.get(`https://ipapi.co/${e}/latlong/`,(n=>{var s=n.split(",");jQuery.get(`https://api.openweathermap.org/data/2.5/weather?lat=${s[0]}&lon=${s[1]}&appid=f458f921bf7a96908a1769ab9f78abef`,(n=>{t.send(JSON.stringify({type:"entry",ip:e,os:$t(window.navigator.userAgent),location:`${o}, ${c}`,weather:`${n.weather[0].main}`}))}))}))}))})),c.on("message",(t=>{const n=t;console.log(n),"board"==n.type&&e(0,s=n.board),"status"==n.type&&e(6,d=n.gameActive),"time"==n.type&&e(5,u=n.time),"turn"==n.type&&e(7,f=n.collectiveTurn),"ending"==n.type&&e(8,p=n.ending),"entries"==n.type&&a&&e(1,i=n.entries)}))},function(t){l=t,e(3,l)},()=>{e(2,r=!0)},()=>{c.send(JSON.stringify({type:"restart"})),e(2,r=!1),e(1,i={})},(t,n,o)=>{a||(c.send(JSON.stringify({type:"vote",tile:t})),e(0,o[t].votes++,s)),a&&!f&&c.send(JSON.stringify({type:"admin_vote",tile:t}))},()=>{c.send(JSON.stringify({type:"ending",ending:"x"}))},()=>{c.send(JSON.stringify({type:"ending",ending:"o"}))},()=>{c.send(JSON.stringify({type:"ending",ending:"s"}))}]}return new class extends U{constructor(t){super(),I(this,t,wt,yt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
